
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Matt Good</title>
  <meta name="author" content="Matt Good">

  
  <meta name="description" content="I&#8217;ve uploaded a new Python library jprops toGitHub.  It reads and writes Java&#8217;s .propertiesfile format.We were using pyjavapropertiesat...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mgood.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Matt Good" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Matt Good</a></h1>
  
    <h2>Random musings on code & other stuff</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mgood.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/10/07/released-jprops">Released Jprops Library</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2011-10-07T02:15:00-04:00" pubdate  data-updated="true" >Oct 7<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve uploaded a new Python library <a href="http://mgood.github.com/jprops/">jprops</a> to
GitHub.  It reads and writes Java&#8217;s <a href="http://download.oracle.com/javase/6/docs/api/java/util/Properties.html">.properties</a>
file format.</p>

<p>We were using <a href="http://pypi.python.org/pypi/pyjavaproperties">pyjavaproperties</a>
at work, but ran into a few limitations.  One of our developers had patched it
to be able to read from a <code>StringIO</code> object instead of a <code>file</code> object.  I had
also encountered an issue where it has extended the standard property parsing
to interpolate patterns like <code>{var}</code> to expand the value of <code>var</code> as a
reference to another property.  This interfered with some of our properties
files that use <code>${var}</code> as a pattern recognized by our configuration system.</p>

<p>Since pyjavaproperties was also missing some other features like unicode
support I decided to go ahead and read over the the Java documentation of
the file format and build a new cleanroom implementation.  I have a decent
set of <a href="https://github.com/mgood/jprops/blob/master/test_jprops.py">unit tests</a>
and I think this implementation should cover all of the features documented in
the spec.  It has full support for reading and writing unicode values, though it
it will return Python <code>str</code> objects by default when your key or value contains
only ASCII.  This was more convenient, but I may revisit that to always return
<code>unicode</code> or have a switch for that behavior.</p>

<p>So, if you need to work with Java .properties files from Python, just
<code>pip install jprops</code> and <a href="http://mgood.github.com/jprops/">check out the docs</a>.
If it&#8217;s missing something <a href="https://github.com/mgood/jprops/issues">let me know</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/10/07/migrated-to-octopress">Migrated to Octopress</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2011-10-07T02:03:00-04:00" pubdate  data-updated="true" >Oct 7<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Created a new blog using <a href="http://octopress.org">Octopress</a>.  Will be migrating in old posts in a bit.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/05/31/javascript-namespaces">Simple JavaScript Namespaces</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2009-05-31T19:52:00Z" pubdate  data-updated="true" >May 31<span>st</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>Namespaces are one honking great idea â€” let&#8217;s do more of those!</p><footer><strong>Tim Peters</strong><cite>The Zen of Python</cite></footer></blockquote>


<p>After a few years of mostly server-side development I&#8217;m getting back
into JavaScript, and for the first time I feel like I&#8217;m approaching it
as an actual engineering challenge rather than a bunch of quick hacks.
As our JS code base is growing I&#8217;m breaking things up into namespaces to
keep things manageable.</p>

<p>Though JavaScript has no built-in notion of &#8220;modules&#8221; like many other
languages you can use objects to create namespaces, which in their
simplest form would look something like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">util</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">my_func</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;my_func&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="nx">util</span><span class="p">.</span><span class="nx">my_func</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>However, creating nested namespaces like &#8220;myapp.util.text&#8221; gets a bit
ugly with that approach. I liked the basic API of
<a href="http://code.google.com/p/namespacedotjs/">Namespace.js</a>, though I
didn&#8217;t want any of the additional features like remote loading, so I
figured I could make something much simpler and smaller.</p>

<p>You can first &#8220;declare&#8221; a namespace and then assign attributes like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">Namespace</span><span class="p">(</span><span class="s1">&#39;myapp.ui&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nx">myapp</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">ToggleButton</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// ...</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>Or pass in the attributes to include in that namespace:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">Namespace</span><span class="p">(</span><span class="s1">&#39;myapp.util.text&#39;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">some_func</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here&#8217;s the code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">function</span> <span class="nx">Namespace</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">parts</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">),</span>
</span><span class='line'>      <span class="nx">ns</span> <span class="o">=</span> <span class="nb">window</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="c1">// find the deepest part of the namespace</span>
</span><span class='line'>  <span class="c1">// that is already defined</span>
</span><span class='line'>  <span class="k">for</span><span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">parts</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">parts</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="k">in</span> <span class="nx">ns</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>    <span class="nx">ns</span> <span class="o">=</span> <span class="nx">ns</span><span class="p">[</span><span class="nx">parts</span><span class="p">[</span><span class="nx">i</span><span class="p">]];</span>
</span><span class='line'>  <span class="c1">// initialize any remaining parts of the namespace</span>
</span><span class='line'>  <span class="k">for</span><span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">parts</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>    <span class="nx">ns</span> <span class="o">=</span> <span class="nx">ns</span><span class="p">[</span><span class="nx">parts</span><span class="p">[</span><span class="nx">i</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{};</span>
</span><span class='line'>  <span class="c1">// copy the attributes into the namespace</span>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">attributes</span><span class="p">)</span>
</span><span class='line'>    <span class="nx">ns</span><span class="p">[</span><span class="nx">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">attributes</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is of course <em>much</em> smaller than the 16kb of Namespace.js, so as an
additional challenge I decided see if I could compact it to fit the 140
character limit of a <a href="http://twitter.com/matt_good/status/1599936506">Twitter status message</a> :)
<em>(Note: the Twitter version used jQuery&#8217;s $.extend function to copy the attributes
into the namespace which I later replaced with the framework-independent
version above.)</em></p>

<p>I&#8217;ll follow up later with some tricks I&#8217;ve been thinking about to
&#8220;import&#8221; stuff from other namespaces.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/28/safari-3">Safari 3</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2007-08-28T13:55:17Z" pubdate  data-updated="true" >Aug 28<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I think I&#8217;ve tried just about every web browser available for the Mac.
The included Safari 2 didn&#8217;t feel quite right, Firefox was too slow and
a memory hog, Flock, Shiira and some others just didn&#8217;t really fit what
I was looking for. Camino was nice and light, and better integrated with
the Mac than Firefox, but I was missing a good search box and it felt a
little too limited in features. Now I&#8217;m using the Safari 3 beta and
couldn&#8217;t be happier. There are lots of little things that just feel
&#8220;right&#8221; and it fits with the Mac OS nicely. After downloading an
application you are warned that it contains an app, and if you approve
the DMG file is mounted so you can run or install the app. But, the one
thing that seems simple, but I&#8217;ve felt missing in browsers for a while
is the tab management. On Linux I used Epiphany which has supported
rearranging tabs for a while, and Firefox now supports it, but Safari
gets one more thing right: dragging tabs between windows. So far I
haven&#8217;t seen another browser do this, but in Safari you can drag a tab
up or down to detach it from the current window and either drag it to a
different window, or out into a new window. It&#8217;s not a feature I use
constantly, but I do really like being able to keep my tabs organized in
a logical manner instead of having a random assortment of tabs all open
in the same window. Thanks Apple for getting this right.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/05/scripts-svndiff">Scripts: Svndiff</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2007-08-05T16:24:00Z" pubdate  data-updated="true" >Aug 5<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>To make the output of the &#8220;svn diff&#8221; command more readable here&#8217;s a
small script to pipe the output to the <a href="http://pygments.org">Pygments</a>
library to colorize the command line output:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>svn diff <span class="s2">&quot;$@&quot;</span> | pygmentize -ldiff
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/05/02/industrial-design">Industrial Design</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2007-05-02T12:14:27Z" pubdate  data-updated="true" >May 2<span>nd</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For April 1st ThinkGeek presented us with <a href="http://www.thinkgeek.com/stuff/41/lebedev.shtml">this wonderful device</a>:</p>

<p><img src="http://www.thinkgeek.com/images/products/front/vilcus_plug.jpg" alt="Vilcus Plug Dactyloadapter" /></p>

<p>However, this product was created by another industrial design company
that has a lot of extremely creative products, such as this
<a href="http://www.artlebedev.com/everything/mabbila/interface/">phone with rotation aware clock display</a>:</p>

<p><img src="http://img.artlebedev.com/everything/mabbila/interface/001-1.jpg" alt="Mabbila Phone" /></p>

<p>Unfortunately many of their products are only produced in small runs, so
availability is limited. However, it&#8217;s worth browsing their
<a href="http://www.artlebedev.com/everything/id/">industrial design catalog</a>
to see some of the cool ideas.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/05/01/mac-migration-part-1">Mac Migration (Part 1)</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2007-05-01T13:42:25Z" pubdate  data-updated="true" >May 1<span>st</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A week ago I started my new job at <a href="http://youtube.com">YouTube</a>. Most
people here use Macs so I got a nice shiny new MacBook Pro to work on.
I&#8217;ve been using Linux (<a href="http://debian.org">Debian</a> and
<a href="http://ubuntu.com">Ubuntu</a>) almost exclusively for about 4 years now
and Windows before that, so I&#8217;ve been quickly getting up to speed on
using my new Mac.</p>

<p>One of my first major annoyances was that some form controls weren&#8217;t
keyboard navigable. Filling out web forms was frustrating since hitting
Tab would skip past drop-down fields, and when dialogs popped up and I
didn&#8217;t want to respond with the default button I had to switch over to
the mouse instead of just tabbing to the right one.</p>

<p>Fortunately I found these <a href="http://www.tonyspencer.com/2006/05/02/tab-skips-select-form-fields-in-mac-browsers/">instructions on changing this behavior</a>.
Now I can use the keyboard to quickly navigate these inputs.</p>

<p>More on my Mac switch to come.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/02/28/pycon-trac-presentation">PyCon Trac Presentation</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2007-02-28T19:08:20Z" pubdate  data-updated="true" >Feb 28<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Here are the materials from my PyCon Trac presentation:</p>

<ul>
<li><a href="http://matt-good.net/files/software-dev-with-trac/software_development.html">HTML slides</a></li>
<li><a href="http://matt-good.net/files/software-dev-with-trac/software_development.rst">reStructuredText source</a></li>
<li><a href="http://matt-good.net/files/software-dev-with-trac/rst2s5">rst2s5 modified for code coloring</a></li>
</ul>


<p>The modified rst2s5 script requires
<a href="http://pygments.pocoo.org">Pygments</a> for coloring the example code.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/02/27/pythongpaste">PythongPaste</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2007-02-27T08:51:31Z" pubdate  data-updated="true" >Feb 27<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ian Bicking has just added a new package to the Paste suite for WSGI utilities</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2007/02/27/pythongpaste">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/02/04/ubuntu-package-for-germanium">Ubuntu Package for Germanium</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2007-02-04T00:17:08Z" pubdate  data-updated="true" >Feb 4<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve built an Ubuntu Edgy package for Germanium. It may work on Dapper,
or Debian versions, but I haven&#8217;t tested it on any of those yet. I think
the dependencies should be covered, but if you find any problems you can
<a href="http://projects.matt-good.net/trac/emusic-gnome/newticket">open a ticket</a>.</p>

<p><strong>Download:</strong>
  ~ <a href="http://packages.matt-good.net/germanium_0.2.0-0ubuntu1_all.deb">germanium_0.2.0-0ubuntu1_all.deb</a></p>
</div>
  
  


    </article>
  
  <nav class="pagination">
    <div>
      
        <a class="prev" href="/blog/page/2/">&larr; Older</a>
      
      <a href="/blog/archives">Blog Archives</a>
      
    </div>
  </nav>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/10/07/released-jprops">Released jprops library</a>
      </li>
    
      <li class="post">
        <a href="/2011/10/07/migrated-to-octopress">Migrated to Octopress</a>
      </li>
    
      <li class="post">
        <a href="/2009/05/31/javascript-namespaces">Simple JavaScript Namespaces</a>
      </li>
    
      <li class="post">
        <a href="/2007/08/28/safari-3">Safari 3</a>
      </li>
    
      <li class="post">
        <a href="/2007/08/05/scripts-svndiff">Scripts: svndiff</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/mgood">@mgood</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mgood',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Matt Good -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-26180810-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>





</body>
</html>
